<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For My Ultimate Bestie, Aastha Ji</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Patrick+Hand&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: linear-gradient(135deg, #fff0f5, #f8e1e9);
      font-family: 'Patrick Hand', cursive;
      overflow: hidden;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      cursor: url('https://img.icons8.com/doodle/24/000000/heart.png'), auto;
      transition: background 0.5s ease;
    }
    
    body.dark-mode {
      background: linear-gradient(135deg, #2c1b47, #5e3a6f);
      color: #ffd1dc;
    }
    
    .floating-heart {
      position: absolute;
      font-size: 20px;
      color: #ff99cc;
      opacity: 0.5;
      animation: float 10s infinite ease-in-out;
    }
    
    @keyframes float {
      0% { transform: translateY(100vh) scale(0.8); opacity: 0.3; }
      50% { opacity: 0.7; }
      100% { transform: translateY(-20vh) scale(1.2); opacity: 0; }
    }
    
    .music-controls {
      position: fixed;
      bottom: 20px;
      left: 20px;
      z-index: 100;
      display: flex;
      align-items: center;
      gap: 15px;
      background: rgba(255, 245, 247, 0.9);
      padding: 15px 25px;
      border-radius: 35px;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
      transition: background 0.5s ease;
    }
    
    body.dark-mode .music-controls {
      background: rgba(44, 27, 71, 0.9);
    }
    
    .music-controls button {
      background: #ff99cc;
      border: none;
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      box-shadow: 0 3px 10px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
    }
    
    .music-controls button:hover {
      background: #ff66b2;
      transform: scale(1.1);
    }
    
    .music-info {
      font-family: 'Caveat', cursive;
      font-size: 18px;
      color: #ff66b2;
      text-shadow: 1px 1px 2px rgba(255, 105, 180, 0.2);
      max-width: 200px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    body.dark-mode .music-info {
      color: #ffd1dc;
      text-shadow: 1px 1px 2px rgba(255, 182, 193, 0.2);
    }
    
    .playlist-select {
      background: #ffccd5;
      border: 2px solid #ff99cc;
      border-radius: 20px;
      padding: 8px 15px;
      font-family: 'Patrick Hand', cursive;
      font-size: 16px;
      color: #ff528b;
      cursor: pointer;
      box-shadow: 0 3px 10px rgba(255, 105, 180, 0.2);
      transition: all 0.3s ease;
      max-width: 250px;
    }
    
    body.dark-mode .playlist-select {
      background: #5e3a6f;
      border-color: #ffd1dc;
      color: #ffd1dc;
    }
    
    .playlist-select:hover {
      background: #ff99cc;
      color: white;
    }
    
    .theme-toggle {
      background: #ff66b2;
      border: none;
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 20px;
      box-shadow: 0 3px 10px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
      background: #ff99cc;
      transform: scale(1.1);
    }
    
    .book-container {
      width: 90vw;
      max-width: 1000px;
      height: 85vh;
      perspective: 2000px;
      position: relative;
    }
    
    .book {
      width: 100%;
      height: 100%;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.8s ease;
    }
    
    .page {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: linear-gradient(to right, #fff7f9, #fff);
      overflow: hidden;
      transform-origin: left;
      border-radius: 15px;
      border: 3px dashed #ffb6c1;
      box-shadow: 5px 5px 25px rgba(255, 182, 193, 0.4);
      padding: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      backface-visibility: hidden;
      transform-style: preserve-3d;
      transition: transform 0.8s cubic-bezier(0.68, -0.55, 0.27, 1.55), background 0.5s ease;
    }
    
    body.dark-mode .page {
      background: linear-gradient(to right, #3a2457, #5e3a6f);
      border-color: #ffd1dc;
    }
    
    .page::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 10c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm20 20c3.314 0 6 2.686 6 6s-2.686 6-6 6-6-2.686-6-6 2.686-6 6-6zm-40 20c2.761 0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5 5zm20-40c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4z' fill='%23ffb6c1' fill-opacity='0.2'/%3E%3C/svg%3E");
      opacity: 0.4;
      pointer-events: none;
    }
    
    body.dark-mode .page::after {
      background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M40 10c5.523 0 10 4.477 10 10s-4.477 10-10 10-10-4.477-10-10 4.477-10 10-10zm20 20c3.314 0 6 2.686 6 6s-2.686 6-6 6-6-2.686-6-6 2.686-6 6-6zm-40 20c2.761 0 5 2.239 5 5s-2.239 5-5 5-5-2.239-5-5 2.239-5 5 5zm20-40c2.209 0 4 1.791 4 4s-1.791 4-4 4-4-1.791-4-4 1.791-4 4-4z' fill='%23ffd1dc' fill-opacity='0.2'/%3E%3C/svg%3E");
    }
    
    .page-1 { z-index: 13; background: linear-gradient(135deg, #ffe6ee, #fff0f5); }
    .page-2 { z-index: 12; }
    .page-3 { z-index: 11; }
    .page-4 { z-index: 10; }
    .page-5 { z-index: 9; }
    .page-6 { z-index: 8; }
    .page-7 { z-index: 7; }
    .page-8 { z-index: 6; }
    .page-9 { z-index: 5; }
    .page-10 { z-index: 4; }
    .page-11 { z-index: 3; }
    .page-12 { z-index: 2; }
    .page-13 { z-index: 1; background: linear-gradient(45deg, #ffe6ee, #fff0f5); }
    
    .page.flipped {
      transform: rotateY(-180deg);
    }
    
    .page-content {
      max-width: 85%;
      position: relative;
      z-index: 5;
    }
    
    h1, h2, h3 {
      font-family: 'Caveat', cursive;
      color: #ff66b2;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
      transition: all 0.3s ease;
    }
    
    body.dark-mode h1, body.dark-mode h2, body.dark-mode h3 {
      color: #ffd1dc;
    }
    
    h1:hover, h2:hover, h3:hover {
      text-shadow: 0 0 10px #ff99cc, 2px 2px 4px rgba(255, 105, 180, 0.5);
    }
    
    h1 { font-size: 3.5em; }
    h2 { font-size: 2.8em; }
    
    p {
      font-size: 1.8em;
      line-height: 1.5;
      color: #ff528b;
      margin-bottom: 20px;
      text-shadow: 1px 1px 2px rgba(255, 182, 193, 0.2);
      transition: color 0.3s ease;
    }
    
    body.dark-mode p {
      color: #ffd1dc;
    }
    
    .typewriter {
      overflow: hidden;
      white-space: nowrap;
      animation: typing 2.5s steps(40, end), blink 0.75s step-end infinite;
      border-right: 3px solid #ff99cc;
    }
    
    body.dark-mode .typewriter {
      border-right-color: #ffd1dc;
    }
    
    @keyframes typing {
      from { width: 0 }
      to { width: 100% }
    }
    
    @keyframes blink {
      from, to { border-color: transparent }
      50% { border-color: #ff99cc }
    }
    
    body.dark-mode @keyframes blink {
      50% { border-color: #ffd1dc }
    }
    
    .nav-buttons {
      position: absolute;
      bottom: 30px;
      right: 30px;
      display: flex;
      gap: 20px;
    }
    
    .nav-button {
      background: #ff99cc;
      border: 2px solid #ff66b2;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      font-size: 25px;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    
    body.dark-mode .nav-button {
      background: #5e3a6f;
      border-color: #ffd1dc;
    }
    
    .nav-button:hover {
      background: #ff66b2;
      transform: scale(1.15) rotate(5deg);
    }
    
    body.dark-mode .nav-button:hover {
      background: #ffd1dc;
      color: #2c1b47;
    }
    
    .sticker {
      position: absolute;
      pointer-events: none;
      z-index: 10;
      animation: bounce 2s ease-in-out infinite;
      font-size: 40px;
    }
    
    .temp-sticker {
      position: absolute;
      font-size: 30px;
      animation: fadeOut 2s ease forwards;
      pointer-events: none;
      z-index: 12;
    }
    
    @keyframes fadeOut {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.2); }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(5deg); }
    }
    
    .memory-card {
      background: #fff7f9;
      padding: 20px;
      border: 2px dashed #ff99cc;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(255, 182, 193, 0.3);
      transform: rotate(-3deg);
      margin: 15px 0;
      max-width: 70%;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    body.dark-mode .memory-card {
      background: #3a2457;
      border-color: #ffd1dc;
    }
    
    .memory-card:hover {
      transform: rotate(0deg) scale(1.05);
      box-shadow: 0 10px 20px rgba(255, 105, 180, 0.4);
    }
    
    .memory-card span {
      font-size: 2em;
      margin-bottom: 10px;
      display: block;
    }
    
    .tape {
      position: absolute;
      width: 50px;
      height: 20px;
      background: rgba(255, 223, 186, 0.8);
      transform: rotate(var(--rotation));
      top: var(--top);
      left: var(--left);
      z-index: 3;
      border-radius: 5px;
    }
    
    body.dark-mode .tape {
      background: rgba(255, 209, 220, 0.8);
    }
    
    .doodle {
      position: absolute;
      z-index: 1;
      opacity: 0.6;
      animation: sway 3s ease-in-out infinite;
    }
    
    @keyframes sway {
      0%, 100% { transform: rotate(0deg); }
      50% { transform: rotate(10deg); }
    }
    
    .doodle-heart { width: 70px; top: 40px; right: 50px; }
    .doodle-flower { width: 60px; bottom: 80px; left: 60px; }
    .doodle-star { width: 50px; top: 90px; left: 70px; }
    
    .shine-effect {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255,255,255,0.5) 0%, rgba(255,255,255,0) 60%);
      pointer-events: none;
      z-index: 4;
      animation: shimmer 4s infinite;
    }
    
    body.dark-mode .shine-effect {
      background: linear-gradient(135deg, rgba(255,209,220,0.3) 0%, rgba(255,209,220,0) 60%);
    }
    
    @keyframes shimmer {
      0% { transform: translateX(-100%); }
      50% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    .surprise-emoji {
      position: absolute;
      font-size: 30px;
      animation: floatUp 2s ease forwards;
      pointer-events: none;
      z-index: 2;
    }
    
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1); opacity: 1; }
      100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
    }
    
    .magic-button {
      background: #ff66b2;
      border: none;
      padding: 12px 24px;
      border-radius: 25px;
      color: white;
      font-family: 'Caveat', cursive;
      font-size: 1.6em;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
      transition: all 0.3s ease;
    }
    
    body.dark-mode .magic-button {
      background: #ffd1dc;
      color: #2c1b47;
    }
    
    .magic-button:hover {
      background: #ff99cc;
      transform: scale(1.1);
    }
    
    body.dark-mode .magic-button:hover {
      background: #ff99cc;
    }
    
    .surprise-message {
      position: absolute;
      background: #ff99cc;
      color: white;
      padding: 15px 25px;
      border-radius: 15px;
      font-size: 1.8em;
      font-family: 'Caveat', cursive;
      display: none;
      animation: popIn 0.5s ease;
      z-index: 6;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
    }
    
    body.dark-mode .surprise-message {
      background: #5e3a6f;
      color: #ffd1dc;
    }
    
    @keyframes popIn {
      0% { transform: scale(0); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    .love-crown {
      position: absolute;
      top: 10%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 80px;
      color: #ff66b2;
      text-shadow: 0 0 10px #ff99cc;
      animation: crownGlow 2s ease infinite;
      z-index: 3;
    }
    
    body.dark-mode .love-crown {
      color: #ffd1dc;
      text-shadow: 0 0 10px #ff99cc;
    }
    
    @keyframes crownGlow {
      0%, 100% { transform: translateX(-50%) scale(1); opacity: 1; }
      50% { transform: translateX(-50%) scale(1.1); opacity: 0.8; }
    }
    
    .cursor-emoji {
      position: absolute;
      font-size: 20px;
      pointer-events: none;
      z-index: 2;
      animation: fadeTrail 1s ease forwards;
    }
    
    @keyframes fadeTrail {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(0.5); }
    }
    
    .love-meter {
      width: 120px;
      height: 120px;
      background: #fff7f9;
      border: 4px solid #ff99cc;
      border-radius: 50%;
      position: relative;
      cursor: pointer;
      overflow: hidden;
      margin: 20px auto;
      transition: background 0.3s ease;
    }
    
    body.dark-mode .love-meter {
      background: #3a2457;
      border-color: #ffd1dc;
    }
    
    .love-meter-fill {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 0%;
      background: #ff66b2;
      transition: height 0.5s ease;
    }
    
    body.dark-mode .love-meter-fill {
      background: #ffd1dc;
    }
    
    .love-meter span {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 40px;
      z-index: 2;
    }
    
    .note-area {
      width: 80%;
      height: 200px;
      padding: 20px;
      border: 2px dashed #ff99cc;
      border-radius: 15px;
      background: #fff7f9;
      font-family: 'Patrick Hand', cursive;
      font-size: 1.5em;
      color: #ff528b;
      resize: none;
      box-shadow: 0 5px 15px rgba(255, 182, 193, 0.3);
      transition: background 0.3s ease, border-color 0.3s ease;
    }
    
    body.dark-mode .note-area {
      background: #3a2457;
      border-color: #ffd1dc;
      color: #ffd1dc;
    }
    
    .note-area:focus {
      outline: none;
      border-color: #ff66b2;
    }
    
    body.dark-mode .note-area:focus {
      border-color: #ff99cc;
    }
    
    /* Enhanced Photo Frame */
    .photo-frame {
      width: 250px;
      height: 180px;
      border: 8px solid #ffb6c1;
      background: #fff;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
      transform: rotate(-5deg);
      cursor: pointer;
      overflow: hidden;
      position: relative;
      transition: all 0.3s ease;
    }
    
    body.dark-mode .photo-frame {
      background: #5e3a6f;
      border-color: #ffd1dc;
    }
    
    .photo-frame:hover {
      transform: rotate(0deg) scale(1.05);
    }
    
    .photo-frame img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
      animation: photoFadeIn 0.5s ease;
    }
    
    @keyframes photoFadeIn {
      0% { opacity: 0; transform: scale(0.9); }
      100% { opacity: 1; transform: scale(1); }
    }
    
    .photo-frame::before {
      content: 'Tap to Add Our Pic!';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Caveat', cursive;
      font-size: 1.8em;
      color: #ff66b2;
      text-align: center;
    }
    
    body.dark-mode .photo-frame::before {
      color: #ffd1dc;
    }
    
    .photo-caption {
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-family: 'Patrick Hand', cursive;
      font-size: 1.2em;
      color: #ff528b;
      background: rgba(255, 245, 247, 0.8);
      padding: 5px 10px;
      border-radius: 10px;
      display: none;
    }
    
    body.dark-mode .photo-caption {
      color: #ffd1dc;
      background: rgba(44, 27, 71, 0.8);
    }
    
    /* Supercharged Friendship Badge */
    .friendship-badge {
      width: 120px;
      height: 120px;
      background: #ff99cc;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Caveat', cursive;
      font-size: 2em;
      color: white;
      text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.5);
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.4);
      position: relative;
      transition: all 0.3s ease;
    }
    
    body.dark-mode .friendship-badge {
      background: #ffd1dc;
      color: #2c1b47;
    }
    
    .friendship-badge:hover {
      transform: scale(1.1);
    }
    
    .friendship-badge.awarded {
      box-shadow: 0 0 20px #ff99cc, 0 5px 15px rgba(255, 105, 180, 0.4);
    }
    
    .friendship-badge::after {
      content: '';
      position: absolute;
      width: 140px;
      height: 20px;
      background: linear-gradient(45deg, #ff66b2, #ff99cc);
      top: 100%;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 5px;
      display: none;
    }
    
    body.dark-mode .friendship-badge::after {
      background: linear-gradient(45deg, #ffd1dc, #ff99cc);
    }
    
    .friendship-badge.awarded::after {
      display: block;
    }
    
    /* Expanded Memory Ticker */
    .memory-ticker {
      position: absolute;
      bottom: 10px;
      width: 80%;
      overflow: hidden;
      white-space: nowrap;
      font-family: 'Patrick Hand', cursive;
      font-size: 1.2em;
      color: #ff528b;
      animation: ticker 20s linear infinite;
      cursor: pointer;
    }
    
    body.dark-mode .memory-ticker {
      color: #ffd1dc;
    }
    
    .memory-ticker.paused {
      animation-play-state: paused;
    }
    
    @keyframes ticker {
      0% { transform: translateX(100%); }
      100% { transform: translateX(-100%); }
    }
    
    @media (max-width: 768px) {
      .book-container { width: 95vw; height: 80vh; }
      .page { padding: 20px; }
      h1 { font-size: 2.5em; }
      h2 { font-size: 2em; }
      p { font-size: 1.4em; }
      .photo-frame { width: 180px; height: 120px; }
      .friendship-badge { width: 90px; height: 90px; font-size: 1.6em; }
      .memory-ticker { font-size: 1em; }
      .love-meter { width: 90px; height: 90px; }
    }
  </style>
</head>
<body>
  <div class="music-controls">
    <button id="play-pause">▶</button>
    <select class="playlist-select" id="playlist">
      <option value="WUSYANAME (Audio).mp3" selected>WUSYANAME - Tyler, The Creator</option>
      <option value="White.mp3">White - Frank Ocean</option>
      <option value="The Girl From Ipanema.mp3">The Girl From Ipanema - Stan Getz</option>
      <option value="Pyramids.mp3">Pyramids - Frank Ocean</option>
      <option value="photosynthesis _ saba [3Oi13wz1KlA].mp3">Photosynthesis - Saba</option>
      <option value="Larry Lovestein (Mac Miller) - You.mp3">You - Larry Lovestein</option>
      <option value="ITYWTD.mp3">I Thought You Wanted To Dance - Tyler, The Creator</option>
      <option value="Tracy.mp3">La Vie En Rose - How I Met Your Mother</option>
      <option value="Estelle - American Boy [Feat. Kanye West] [Video].mp3">American Boy - Estelle</option>
      <option value="Clairo - Juna.mp3">Juna - Clairo</option>
      <option value="Bound.mp3">Bound - Ponderosa Twins Plus One</option>
      <option value="Backstreet Boys - I Want It That Way (Official HD Video).mp3">I Want It That Way - Backstreet Boys</option>
    </select>
    <div class="music-info" id="current-song">WUSYANAME - Tyler, The Creator</div>
    <button class="theme-toggle" id="themeToggle">🌙</button>
  </div>
  
  <div class="book-container">
    <div class="book">
      <!-- Cover Page -->
      <div class="page page-1">
        <div class="shine-effect"></div>
        <div class="page-content">
          <h1 class="typewriter">My Dearest Aastha Ji!</h1>
          <p>The ultimate scrapbook from your bestie—‘cause you’re my rock!</p>
          <div class="memory-card">
            <span>💖</span>
            <p>You’ve been my anchor when the world turned upside down!</p>
          </div>
          <button class="magic-button" id="magicSurprise">Sweet Surprise!</button>
          <p>(Flip for epic thanks—click for stickers!)</p>
        </div>
        <span class="sticker" style="top: 20px; right: 30px;">💕</span>
        <span class="sticker" style="bottom: 50px; left: 40px;">🌸</span>
      </div>
      
      <!-- Page 2 -->
      <div class="page page-2">
        <div class="tape" style="--rotation: 25deg; --top: 20px; --left: 55%;"></div>
        <div class="page-content">
          <h2>My Anchor</h2>
          <p>Hey Aastha Ji!</p>
          <p>When life crashed hard, you stood like a rock—my lifeline!</p>
          <p>Thanks for being my unbreakable bestie!</p>
          <img class="doodle doodle-heart" src="https://img.icons8.com/doodle/96/heart.png" alt="heart">
        </div>
        <span class="sticker" style="top: 80px; right: 50px;">💗</span>
      </div>
      
      <!-- Page 3 -->
      <div class="page page-3">
        <div class="tape" style="--rotation: -15deg; --top: 30px; --left: 35%;"></div>
        <div class="page-content">
          <h2>You Pulled Me Through</h2>
          <div class="memory-card" style="transform: rotate(4deg);">
            <span>🌟</span>
            <p>You said “We’ve got this!” and hauled me out of the dark—my hero!</p>
          </div>
          <p>You’re my strength, Aastha Ji!</p>
          <img class="doodle doodle-star" src="https://img.icons8.com/doodle/96/star.png" alt="star">
        </div>
        <span class="sticker" style="bottom: 80px; right: 60px;">🌺</span>
      </div>
      
      <!-- Page 4 -->
      <div class="page page-4">
        <div class="page-content">
          <h2>My Motivation Spark</h2>
          <p>Aastha Ji, your words ignite a fire in me—I’m so lucky you’re my bestie!</p>
          <p>You make me wanna push forward every single day!</p>
          <p>Thanks for that endless boost!</p>
          <img class="doodle doodle-flower" src="https://img.icons8.com/doodle/96/flower.png" alt="flower">
          <span class="surprise-message" id="secretMessage" style="top: 20%; left: 50%; transform: translateX(-50%);">Psst... you’re my rock of strength! ✨</span>
        </div>
        <span class="sticker" style="top: 50px; left: 40px;">💓</span>
      </div>
      
      <!-- Page 5 (Mini-Game) -->
      <div class="page page-5">
        <div class="tape" style="--rotation: 20deg; --top: 25px; --left: 60%;"></div>
        <div class="page-content">
          <h2>Guess My Thanks!</h2>
          <p>Aastha Ji, can you guess how much you’ve saved me?</p>
          <div class="memory-card" style="transform: rotate(-3deg);">
            <span id="emojiGuess">❓</span>
            <p id="guessHint">Tap for a gratitude clue!</p>
          </div>
          <button class="magic-button" id="guessButton">Guess!</button>
        </div>
        <span class="sticker" style="top: 140px; left: 30px;">💝</span>
      </div>
      
      <!-- Page 6 (Love Meter + Voice Message) -->
      <div class="page page-6">
        <div class="page-content">
          <h2>You Keep Me Going</h2>
          <p>Aastha Ji, your pep talks—and big smiles—keep me charging ahead!</p>
          <div class="love-meter" id="loveMeter">
            <div class="love-meter-fill" id="loveMeterFill"></div>
            <span>💖</span>
          </div>
          <p>Click to see how much I owe you!</p>
          <button class="magic-button" id="voiceButton">Hear My Thanks!</button>
          <p>You’re my unstoppable bestie!</p>
          <img class="doodle doodle-star" src="https://img.icons8.com/doodle/96/star.png" alt="star">
        </div>
        <span class="sticker" style="top: 70px; right: 40px;">🌷</span>
      </div>
      
      <!-- Page 7 -->
      <div class="page page-7">
        <div class="tape" style="--rotation: -20deg; --top: 35px; --left: 45%;"></div>
        <div class="page-content">
          <h2>My Promise</h2>
          <p>Dear Aastha Ji,</p>
          <p>I’ll always lean on you—‘cause you’re my rock through every storm!</p>
          <p>You make life worth battling for!</p>
          <img class="doodle doodle-flower" src="https://img.icons8.com/doodle/96/flower.png" alt="flower">
        </div>
        <span class="sticker" style="bottom: 90px; left: 50px;">💕</span>
      </div>
      
      <!-- Page 8 (Memory Ticker) -->
      <div class="page page-8">
        <div class="page-content">
          <h2>Our Laughter</h2>
          <p>Aastha Ji, your giggles turn my darkest days into pure gold!</p>
          <div class="memory-card" style="transform: rotate(2deg);">
            <span>😂</span>
            <p>Those silly moments we share are my treasure!</p>
          </div>
          <p>Thanks for the joy, bestie!</p>
          <img class="doodle doodle-star" src="https://img.icons8.com/doodle/96/star.png" alt="star">
          <div class="memory-ticker" id="memoryTicker">That time we laughed ‘til we cried • Pizza night marathons • Your epic pep talks • Coffee runs that saved me • Our unstoppable vibe • Thanks for being you, Aastha Ji! •</div>
        </div>
        <span class="sticker" style="top: 40px; right: 60px;">💓</span>
      </div>
      
      <!-- Page 9 -->
      <div class="page page-9">
        <div class="tape" style="--rotation: 15deg; --top: 30px; --left: 60%;"></div>
        <div class="page-content">
          <h2>Food and Love</h2>
          <p>Aastha Ji, sharing bites with you—and your giant heart—warms me up!</p>
          <div class="memory-card" style="transform: rotate(-4deg);">
            <span>🍕</span>
            <p>Those foodie nights are my fave!</p>
          </div>
          <p>You’re my tasty comfort!</p>
          <img class="doodle doodle-heart" src="https://img.icons8.com/doodle/96/heart.png" alt="heart">
        </div>
        <span class="sticker" style="bottom: 80px; left: 40px;">💝</span>
      </div>
      
      <!-- Page 10 -->
      <div class="page page-10">
        <div class="page-content">
          <h2>My Steady Rock</h2>
          <p>Aastha Ji, you’re my anchor when the world spins wild!</p>
          <p>You’ve stood by me through every tempest!</p>
          <div class="memory-card" style="transform: rotate(3deg);">
            <span>🪨</span>
            <p>You’re tougher than anyone I know!</p>
          </div>
          <img class="doodle doodle-flower" src="https://img.icons8.com/doodle/96/flower.png" alt="flower">
        </div>
        <span class="sticker" style="top: 60px; right: 50px;">💗</span>
      </div>
      
      <!-- Page 11 (Friendship Badge) -->
      <div class="page page-11">
        <div class="tape" style="--rotation: 10deg; --top: 20px; --left: 60%;"></div>
        <div class="page-content">
          <h2>Our Survival Pact</h2>
          <p>Aastha Ji, we’ve conquered chaos together—your strength is my shield!</p>
          <div class="friendship-badge" id="friendshipBadge">Bestie MVP</div>
          <p>Thanks for being my ultimate teammate!</p>
          <img class="doodle doodle-heart" src="https://img.icons8.com/doodle/96/heart.png" alt="heart">
        </div>
        <span class="sticker" style="top: 50px; left: 40px;">💓</span>
      </div>
      
      <!-- Page 12 (Ultimate Surprise) -->
      <div class="page page-12">
        <div class="shine-effect"></div>
        <div class="page-content">
          <h1>My Bestie Forever</h1>
          <p>Aastha Ji, you’re my everything—my rock, my joy, my strength!</p>
          <p class="typewriter" style="font-size: 2.5em;">Thank you tons, my rock! 💖</p>
          <button class="magic-button" id="finalSurprise">Ultimate Thanks!</button>
        </div>
        <span class="sticker" style="top: 30px; left: 40px;">💖</span>
        <span class="sticker" style="bottom: 60px; right: 70px;">💝</span>
      </div>
      
      <!-- Page 13 (Note Section + Photo Frame) -->
      <div class="page page-13">
        <div class="shine-effect"></div>
        <div class="page-content">
          <h1>A Note for Me?</h1>
          <p>Aastha Ji, scribble something for your goofy bestie?</p>
          <textarea class="note-area" id="loveNote" placeholder="Write something sweet—I’m all ears! 💕"></textarea>
          <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button class="magic-button" id="saveNote">Save My Note!</button>
            <button class="magic-button" id="readNote">Read My Note!</button>
          </div>
          <div class="photo-frame" id="photoFrame">
            <input type="file" id="photoInput" accept="image/*" style="display: none;">
            <img id="uploadedPhoto" alt="Our Memory">
            <span class="photo-caption" id="photoCaption">Our Epic Moment!</span>
          </div>
          <p class="typewriter" style="font-size: 1.8em;">You’re my world, always!</p>
        </div>
        <span class="sticker" style="top: 20px; left: 30px;">💓</span>
      </div>
    </div>
    
    <div class="nav-buttons">
      <button class="nav-button prev-button">←</button>
      <button class="nav-button next-button">→</button>
    </div>
  </div>
  
  <audio id="bgMusic" loop>
    <source id="audioSource" src="WUSYANAME (Audio).mp3" type="audio/mp3">
  </audio>
  <audio id="crownChime">
    <source src="https://freesound.org/data/previews/270/270312_2018099-lq.mp3" type="audio/mp3">
  </audio>
  <audio id="voiceMessage">
    <source src="thank_you_aastha.mp3" type="audio/mp3">
  </audio>
  <audio id="badgeSound">
    <source src="https://freesound.org/data/previews/270/270318_2018099-lq.mp3" type="audio/mp3">
  </audio>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let currentPage = 1;
      const totalPages = 13;
      const prevButton = document.querySelector('.prev-button');
      const nextButton = document.querySelector('.next-button');
      const pages = document.querySelectorAll('.page');
      
      prevButton.style.display = 'none';
      
      // Floating Hearts Background (Reduced to 5)
      function addFloatingHearts() {
        for (let i = 0; i < 5; i++) {
          const heart = document.createElement('span');
          heart.classList.add('floating-heart');
          heart.textContent = '💖';
          heart.style.left = `${Math.random() * 100}%`;
          heart.style.animationDelay = `${Math.random() * 5}s`;
          document.body.appendChild(heart);
        }
      }
      
      // Random Stickers (Reduced to 15)
      function addRandomStickers() {
        const container = document.querySelector('.book-container');
        const stickers = ['💖', '🌸', '💝', '🌷', '🌺', '💗', '💕', '✨', '💓'];
        
        for (let i = 0; i < 15; i++) {
          const sticker = document.createElement('span');
          sticker.classList.add('sticker');
          sticker.textContent = stickers[Math.floor(Math.random() * stickers.length)];
          sticker.style.left = Math.random() * 100 + '%';
          sticker.style.top = Math.random() * 100 + '%';
          sticker.style.animationDelay = Math.random() * 3 + 's';
          container.appendChild(sticker);
        }
      }
      
      function initTypewriterEffects() {
        const typewriterElements = document.querySelectorAll('.typewriter');
        typewriterElements.forEach(element => {
          const text = element.textContent;
          element.textContent = '';
          let i = 0;
          
          function typeWriter() {
            if (i < text.length) {
              element.textContent += text.charAt(i);
              i++;
              setTimeout(typeWriter, 60);
            }
          }
          
          const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                typeWriter();
                observer.unobserve(entry.target);
              }
            });
          });
          
          observer.observe(element);
        });
      }
      
      function nextPage() {
        if (currentPage < totalPages) {
          pages[currentPage - 1].classList.add('flipped');
          currentPage++;
          updateButtons();
          if (currentPage === 4) {
            setTimeout(showSecretMessage, 1000);
          }
        }
      }
      
      function prevPage() {
        if (currentPage > 1) {
          currentPage--;
          pages[currentPage - 1].classList.remove('flipped');
          updateButtons();
        }
      }
      
      function updateButtons() {
        prevButton.style.display = currentPage === 1 ? 'none' : 'flex';
        nextButton.style.display = currentPage === totalPages ? 'none' : 'flex';
      }
      
      nextButton.addEventListener('click', nextPage);
      prevButton.addEventListener('click', prevPage);
      
      // Playlist Functionality
      const audio = document.getElementById('bgMusic');
      const audioSource = document.getElementById('audioSource');
      const playPauseBtn = document.getElementById('play-pause');
      const playlistSelect = document.getElementById('playlist');
      const currentSongDisplay = document.getElementById('current-song');
      let isPlaying = false;
      
      const playlist = [
        { title: 'WUSYANAME - Tyler, The Creator', src: 'WUSYANAME (Audio).mp3' },
        { title: 'White - Frank Ocean', src: 'White.mp3' },
        { title: 'The Girl From Ipanema - Stan Getz', src: 'The Girl From Ipanema.mp3' },
        { title: 'Pyramids - Frank Ocean', src: 'Pyramids.mp3' },
        { title: 'Photosynthesis - Saba', src: 'photosynthesis _ saba [3Oi13wz1KlA].mp3' },
        { title: 'You - Larry Lovestein', src: 'Larry Lovestein (Mac Miller) - You.mp3' },
        { title: 'I Thought You Wanted To Dance - Tyler, The Creator', src: 'ITYWTD.mp3' },
        { title: 'La Vie En Rose - How I Met Your Mother', src: 'Tracy.mp3' },
        { title: 'American Boy - Estelle', src: 'Estelle - American Boy [Feat. Kanye West] [Video].mp3' },
        { title: 'Juna - Clairo', src: 'Clairo - Juna.mp3' },
        { title: 'Bound - Ponderosa Twins Plus One', src: 'Bound.mp3' },
        { title: 'I Want It That Way - Backstreet Boys', src: 'Backstreet Boys - I Want It That Way (Official HD Video).mp3' }
      ];
      
      playPauseBtn.addEventListener('click', function() {
        if (isPlaying) {
          audio.pause();
          playPauseBtn.textContent = '▶';
        } else {
          audio.play().catch(e => {
            console.error('Audio playback failed:', e);
            alert('Make sure all MP3 files are in the same folder as this HTML file!');
          });
          playPauseBtn.textContent = '❚❚';
        }
        isPlaying = !isPlaying;
      });
      
      playlistSelect.addEventListener('change', function() {
        const selectedSong = playlist.find(song => song.src === this.value);
        audioSource.src = selectedSong.src;
        currentSongDisplay.textContent = selectedSong.title;
        audio.load();
        if (isPlaying) {
          audio.play().catch(e => console.error('Playback failed:', e));
        }
      });
      
      document.addEventListener('keydown', function(e) {
        if (e.key === 'ArrowRight') nextPage();
        else if (e.key === 'ArrowLeft') prevPage();
      });
      
      // Theme Switch
      const themeToggle = document.getElementById('themeToggle');
      let isDarkMode = false;
      themeToggle.addEventListener('click', () => {
        isDarkMode = !isDarkMode;
        document.body.classList.toggle('dark-mode', isDarkMode);
        themeToggle.textContent = isDarkMode ? '☀️' : '🌙';
        localStorage.setItem('theme', isDarkMode ? 'dark' : 'light');
      });
      
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        isDarkMode = true;
        document.body.classList.add('dark-mode');
        themeToggle.textContent = '☀️';
      }
      
      // Surprise Functions (Reduced to 20)
      function confettiBurst() {
        const page = document.querySelector('.page-1');
        const colors = ['#ff66b2', '#ff99cc', '#ffb6c1', '#fff0f5'];
        for (let i = 0; i < 20; i++) {
          const confetti = document.createElement('div');
          confetti.style.position = 'absolute';
          confetti.style.width = '12px';
          confetti.style.height = '12px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = `${Math.random() * 80 + 10}%`;
          confetti.style.top = `${Math.random() * 80 + 10}%`;
          confetti.style.borderRadius = '50%';
          confetti.style.animation = 'floatUp 2s ease forwards';
          page.appendChild(confetti);
          setTimeout(() => confetti.remove(), 2000);
        }
      }
      
      function showSecretMessage() {
        const message = document.getElementById('secretMessage');
        if (message) {
          message.style.display = 'block';
          setTimeout(() => message.style.display = 'none', 3000);
        }
      }
      
      function finalSurprise() {
        const page = document.querySelector('.page-12');
        const chime = document.getElementById('crownChime');
        
        // Grand Confetti (50 this time for ultimate flair)
        const colors = ['#ff66b2', '#ff99cc', '#ffb6c1', '#fff0f5'];
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement('div');
          confetti.style.position = 'absolute';
          confetti.style.width = '12px';
          confetti.style.height = '12px';
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.left = `${Math.random() * 100}%`;
          confetti.style.top = `${Math.random() * 100}%`;
          confetti.style.borderRadius = '50%';
          confetti.style.animation = 'floatUp 3s ease forwards';
          page.appendChild(confetti);
          setTimeout(() => confetti.remove(), 3000);
        }
        
        // Custom Banner
        const banner = document.createElement('span');
        banner.classList.add('surprise-message');
        banner.textContent = 'To Aastha Ji: The Ultimate Bestie!';
        banner.style.left = '50%';
        banner.style.top = '30%';
        banner.style.transform = 'translateX(-50%)';
        banner.style.fontSize = '2.5em';
        page.appendChild(banner);
        
        // Certificate
        const cert = document.createElement('span');
        cert.classList.add('surprise-message');
        cert.textContent = 'Certified: World’s Best Friend Forever!';
        cert.style.left = '50%';
        cert.style.top = '60%';
        cert.style.transform = 'translateX(-50%)';
        page.appendChild(cert);
        
        // Crown
        const crown = document.createElement('span');
        crown.classList.add('love-crown');
        crown.textContent = '👑';
        page.appendChild(crown);
        
        // Play Chime
        chime.play().catch(e => console.log('Chime blocked—click page first!'));
        
        // Cleanup
        setTimeout(() => {
          banner.remove();
          cert.remove();
          crown.remove();
        }, 5000);
      }
      
      // Mini-Game
      document.getElementById('guessButton').addEventListener('click', () => {
        const emojis = ['🌟', '🍔', '😂', '💪', '💖'];
        const hints = [
          'You shine this bright in my life!',
          'You share this much yum with me!',
          'Our laughs are this big!',
          'You’re this strong for me!',
          'Your friendship means this much!'
        ];
        const randomIndex = Math.floor(Math.random() * emojis.length);
        document.getElementById('emojiGuess').textContent = emojis[randomIndex];
        document.getElementById('guessHint').textContent = hints[randomIndex];
      });
      
      // Love Meter
      let loveLevel = 0;
      document.getElementById('loveMeter').addEventListener('click', () => {
        loveLevel = Math.min(loveLevel + 20, 100);
        document.getElementById('loveMeterFill').style.height = `${loveLevel}%`;
        if (loveLevel === 100) {
          alert('My gratitude for you, Aastha Ji, is maxed out—you’re the ultimate bestie! 💖');
        }
      });
      
      // Voice Message
      const voiceButton = document.getElementById('voiceButton');
      const voiceMessage = document.getElementById('voiceMessage');
      voiceButton.addEventListener('click', () => {
        voiceMessage.play().catch(e => {
          console.error('Voice playback failed:', e);
          alert('Add a "thank_you_aastha.mp3" file to hear my thanks!');
        });
      });
      
      // Sticker Drop
      document.querySelectorAll('.page').forEach(page => {
        page.addEventListener('click', (e) => {
          const stickers = ['💖', '🌸', '💝', '🌷', '🌺', '💗', '💕', '✨'];
          const sticker = document.createElement('span');
          sticker.classList.add('temp-sticker');
          sticker.textContent = stickers[Math.floor(Math.random() * stickers.length)];
          sticker.style.left = `${e.offsetX}px`;
          sticker.style.top = `${e.offsetY}px`;
          page.appendChild(sticker);
          setTimeout(() => sticker.remove(), 2000);
        });
      });
      
      // Cursor Trail (Less Frequent)
      let lastX = 0, lastY = 0;
      document.addEventListener('mousemove', (e) => {
        if (Math.abs(e.pageX - lastX) > 50 || Math.abs(e.pageY - lastY) > 50) {
          const trail = document.createElement('span');
          trail.classList.add('cursor-emoji');
          trail.textContent = '💖';
          trail.style.left = `${e.pageX}px`;
          trail.style.top = `${e.pageY}px`;
          document.body.appendChild(trail);
          setTimeout(() => trail.remove(), 800);
          lastX = e.pageX;
          lastY = e.pageY;
        }
      });
      
      // Note Saving and Reading (Reduced to 8)
      document.getElementById('saveNote').addEventListener('click', () => {
        const note = document.getElementById('loveNote').value;
        if (note.trim()) {
          localStorage.setItem('aasthaJiNote', note);
          alert('Aww, Aastha Ji, your note’s saved! I’ll treasure it forever—bestie love! 💕');
        } else {
          alert('Please write something sweet for your goofy bestie first! 🥰');
        }
      });
      
      document.getElementById('readNote').addEventListener('click', () => {
        const note = localStorage.getItem('aasthaJiNote');
        if (note) {
          const page = document.querySelector('.page-13');
          const message = document.createElement('span');
          message.classList.add('surprise-message');
          message.textContent = note;
          message.style.left = '50%';
          message.style.top = '50%';
          message.style.transform = 'translate(-50%, -50%)';
          message.style.display = 'block';
          page.appendChild(message);
          
          for (let i = 0; i < 8; i++) {
            const heart = document.createElement('span');
            heart.classList.add('surprise-emoji');
            heart.textContent = '💖';
            heart.style.left = `${Math.random() * 80 + 10}%`;
            heart.style.top = `${Math.random() * 80 + 10}%`;
            page.appendChild(heart);
            setTimeout(() => heart.remove(), 2000);
          }
          
          setTimeout(() => message.remove(), 4000);
        } else {
          alert('No note yet, Aastha Ji! Scribble something for your bestie? 💕');
        }
      });
      
      // Load Saved Note
      const savedNote = localStorage.getItem('aasthaJiNote');
      if (savedNote) {
        document.getElementById('loveNote').value = savedNote;
      }
      
      // Photo Frame Upload
      const photoFrame = document.getElementById('photoFrame');
      const photoInput = document.getElementById('photoInput');
      const uploadedPhoto = document.getElementById('uploadedPhoto');
      const photoCaption = document.getElementById('photoCaption');
      
      photoFrame.addEventListener('click', () => {
        photoInput.click();
      });
      
      photoInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (event) => {
            uploadedPhoto.src = event.target.result;
            uploadedPhoto.style.display = 'block';
            photoCaption.style.display = 'block';
            photoFrame.style.background = 'transparent';
            photoFrame.querySelector('::before').style.display = 'none';
            localStorage.setItem('friendshipPhoto', event.target.result);
          };
          reader.readAsDataURL(file);
        }
      });
      
      // Load Saved Photo
      const savedPhoto = localStorage.getItem('friendshipPhoto');
      if (savedPhoto) {
        uploadedPhoto.src = savedPhoto;
        uploadedPhoto.style.display = 'block';
        photoCaption.style.display = 'block';
        photoFrame.style.background = 'transparent';
        photoFrame.querySelector('::before').style.display = 'none';
      }
      
      // Friendship Badge
      const badge = document.getElementById('friendshipBadge');
      const badgeSound = document.getElementById('badgeSound');
      badge.addEventListener('click', () => {
        badge.classList.add('awarded');
        const page = document.querySelector('.page-11');
        const message = document.createElement('span');
        message.classList.add('surprise-message');
        message.textContent = 'Aastha Ji: Bestie Hall of Fame!';
        message.style.left = '50%';
        message.style.top = '50%';
        message.style.transform = 'translate(-50%, -50%)';
        page.appendChild(message);
        
        for (let i = 0; i < 10; i++) {
          const star = document.createElement('span');
          star.classList.add('surprise-emoji');
          star.textContent = '⭐';
          star.style.left = `${Math.random() * 80 + 10}%`;
          star.style.top = `${Math.random() * 80 + 10}%`;
          page.appendChild(star);
          setTimeout(() => star.remove(), 2000);
        }
        
        badgeSound.play().catch(e => console.log('Badge sound blocked—click page first!'));
        setTimeout(() => message.remove(), 3000);
      });
      
      // Memory Ticker
      const ticker = document.getElementById('memoryTicker');
      ticker.addEventListener('click', () => {
        ticker.classList.toggle('paused');
      });
      
      // Button Event Listeners
      document.getElementById('magicSurprise').addEventListener('click', confettiBurst);
      document.getElementById('finalSurprise').addEventListener('click', finalSurprise);
      
      addFloatingHearts();
      addRandomStickers();
      initTypewriterEffects();
    });
  </script>
</body>
</html>